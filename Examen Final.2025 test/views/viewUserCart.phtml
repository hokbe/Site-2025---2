<section class="user-cart">
  <h2>Panier de l'utilisateur</h2>
  <?php if (!empty($cartItems)): ?>
    <table>
      <thead>
        <tr>
          <th>Article</th>
          <th>Quantité</th>
          <th>Prix Unitaire</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <?php 
          $grandTotal = 0;
          foreach ($cartItems as $item):
              
              $title = isset($item['title']) ? $item['title'] : 'Non défini';
              $price = isset($item['price']) ? $item['price'] : 0;
              $quantity = isset($item['quantity']) ? $item['quantity'] : 0;
              $total = $price * $quantity;
              $grandTotal += $total;
        ?>
            <tr>
              <td><?= htmlspecialchars($title) ?></td>
              <td><?= htmlspecialchars($quantity) ?></td>
              <td><?= number_format($price, 2) ?> €</td>
              <td><?= number_format($total, 2) ?> €</td>
            </tr>
            <?php endforeach; ?>
          </tbody>
          <tfoot>
            <tr>
              <td colspan="3">Total Général</td>
              <td><?= number_format($grandTotal, 2) ?> €</td>
            </tr>
          </tfoot>
        </table>
      <?php else: ?>
        <p>Le panier est vide.</p>
      <?php endif; ?>
    </section>
